<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content>
    <meta name="keyword" content>
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        python-opencv 方法总结 - undefined
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i>  </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/" />
        </div>
        <div class="name">
            <i>haoyu</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#读取图片"><span class="toc-text">读取图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#显示图像"><span class="toc-text">显示图像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图像尺寸"><span class="toc-text">图像尺寸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#保存图像"><span class="toc-text">保存图像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#颜色空间转换"><span class="toc-text">颜色空间转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图像缩放"><span class="toc-text">图像缩放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通道的拆分-合并处理"><span class="toc-text">通道的拆分/合并处理</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i>  </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        python-opencv 方法总结
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2019-07-03 01:05:20</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#opencv" title="opencv">opencv</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h3 id="读取图片"><a href="#读取图片" class="headerlink" title="读取图片"></a>读取图片</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># read the original</span></span><br><span class="line">img = cv2.imread(<span class="string">'test.jpg'</span>)</span><br></pre></td></tr></table></figure>

<a id="more"></a>
<h3 id="显示图像"><a href="#显示图像" class="headerlink" title="显示图像"></a>显示图像</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cv2.imshow(<span class="string">'original'</span>, img)   <span class="comment"># 第一个参数是窗口的名字</span></span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>) </span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">cv2.waitKey() 是一个键盘绑定函数。需要指出的是它的时间尺度是毫</span></span><br><span class="line"><span class="string">秒级。函数等待特定的几毫秒，看是否有键盘输入。特定的几毫秒之内，如果</span></span><br><span class="line"><span class="string">按下任意键，这个函数会返回按键的ASCII 码值，程序将会继续运行。如果没</span></span><br><span class="line"><span class="string">有键盘输入，返回值为-1，如果我们设置这个函数的参数为0，那它将会无限</span></span><br><span class="line"><span class="string">期的等待键盘输入。它也可以被用来检测特定键是否被按下，例如按键a 是否</span></span><br><span class="line"><span class="string">被按下，这个后面我们会接着讨论。</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<h3 id="图像尺寸"><a href="#图像尺寸" class="headerlink" title="图像尺寸"></a>图像尺寸</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(im.shape)</span><br><span class="line"></span><br><span class="line"># (370, 463, 3)</span><br></pre></td></tr></table></figure>

<h3 id="保存图像"><a href="#保存图像" class="headerlink" title="保存图像"></a>保存图像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.imwrite(&apos;lena.png&apos;,img)</span><br></pre></td></tr></table></figure>

<h3 id="颜色空间转换"><a href="#颜色空间转换" class="headerlink" title="颜色空间转换"></a>颜色空间转换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.cvtColor(input_image ，flag)  # flag是转换类型</span><br></pre></td></tr></table></figure>

<p>BGR和灰度图的转换使用 <code>cv2.COLOR_BGR2GRAY</code><br>BGR和HSV的转换使用 <code>cv2.COLOR_BGR2HSV</code></p>
<h3 id="图像缩放"><a href="#图像缩放" class="headerlink" title="图像缩放"></a>图像缩放</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.resize(src,dsize,dst=None,fx=None,fy=None,interpolation=None)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">res=cv2.resize(image,(<span class="number">2</span>*width,<span class="number">2</span>*height),interpolation=cv2.INTER_CUBIC) </span><br><span class="line"><span class="comment"># 或者 </span></span><br><span class="line">res=cv2.resize(image,<span class="literal">None</span>,fx=<span class="number">2</span>,fy=<span class="number">2</span>,interpolation=cv2.INTER_CUBIC) </span><br><span class="line"><span class="comment"># 此处None本应该是输出图像的尺寸，因为后边设置了缩放因子</span></span><br></pre></td></tr></table></figure>

<ul>
<li>scr：原图</li>
<li>dsize：输出图像尺寸</li>
<li>fx：沿水平轴的比例因子</li>
<li>fy：沿垂直轴的比例因子</li>
<li>interpolation：插值方法</li>
</ul>
<table>
<thead>
<tr>
<th>interpolation 选项</th>
<th align="left">所用的插值方法</th>
</tr>
</thead>
<tbody><tr>
<td>INTER_NEAREST</td>
<td align="left">最近邻插值</td>
</tr>
<tr>
<td>INTER_LINEAR</td>
<td align="left">双线性插值（默认设置）</td>
</tr>
<tr>
<td>INTER_AREA</td>
<td align="left">使用像素区域关系进行重采样。 它可能是图像抽取的首选方法，因为它会产生无云纹理的结果。 但是当图像缩放时，它类似于INTER_NEAREST方法。</td>
</tr>
<tr>
<td>INTER_CUBIC</td>
<td align="left">4x4像素邻域的双三次插值</td>
</tr>
<tr>
<td>INTER_LANCZOS4</td>
<td align="left">8x8像素邻域的Lanczos插值</td>
</tr>
</tbody></table>
<h3 id="通道的拆分-合并处理"><a href="#通道的拆分-合并处理" class="headerlink" title="通道的拆分/合并处理"></a>通道的拆分/合并处理</h3><p>有时需要对BGR三个通道分别进行操作。这时需要将BGR拆分成单个通道。同时有时需要把独立通道的图片合并成一个BGR图像。</p>
<p><strong>使用OpenCV库函数版本</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import cv2 import numpy as np </span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">image=cv2.imread(&apos;pitt1.jpg&apos;)</span><br><span class="line">rows,cols,ch=image.shape </span><br><span class="line">#拆分通道，cv2.split()是一个比较耗时的操作。只有需要时使用，尽量Numpy</span><br><span class="line">b,g,r=cv2.split(image) </span><br><span class="line">print b.shape #(768,1024) </span><br><span class="line">#合并通道 </span><br><span class="line">image=cv2.merge(b,g,r) </span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**使用Numpy索引版本**</span><br></pre></td></tr></table></figure>

<p>import cv2 import numpy as np<br>import matplotlib.pyplot as plt<br>image=cv2.imread(‘pitt1.jpg’)<br>rows,cols,ch=image.shape </p>
<p>#直接获取<br>b=img[:,:,0]<br>```</p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = ""
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
