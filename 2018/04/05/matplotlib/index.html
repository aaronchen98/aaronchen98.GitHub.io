<!DOCTYPE html>
<html lang>
  <head><meta name="generator" content="Hexo 3.9.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="matplotlib 绘图与显示图像">




  <meta name="keywords" content="python,">





<script type="text/javascript">
window.onload=
function(){
    var oDiv = document.getElementById("toc-test"),
    H = 0,
    Y = oDiv
    while (Y) {H += Y.offsetTop; Y = Y.offsetParent}
    window.onscroll = function()
    {
        var s = document.body.scrollTop || document.documentElement.scrollTop
        if(s>H) {
            oDiv.style = "position:fixed;top:0;"
        } else {
            oDiv.style = ""
        }
    }
}
</script>








  <link rel="alternate" href="/atom.xml" title="浩瀚宇宙·AaronChen">




  <link rel="shortcut icon" type="image/x-icon" href="/img/1.jpg?v=1.1">



<link rel="canonical" href="https://hhyz.me/2018/04/05/matplotlib/">


<meta name="description" content="绘图导入需要的模块1234import numpy as npimport matplotlib.pyplot as pltimport seaborn as snsimport scipy.stats as stats  画基本图形折线图 plot123456y=np.random.randn(100) plt.plot(y,&apos;b-&apos;) plt.xlabel(&apos;x&apos;) plt.ylabel(&apos;y">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="matplotlib 绘图与显示图像">
<meta property="og:url" content="https://hhyz.me/2018/04/05/matplotlib/index.html">
<meta property="og:site_name" content="浩瀚宇宙·AaronChen">
<meta property="og:description" content="绘图导入需要的模块1234import numpy as npimport matplotlib.pyplot as pltimport seaborn as snsimport scipy.stats as stats  画基本图形折线图 plot123456y=np.random.randn(100) plt.plot(y,&apos;b-&apos;) plt.xlabel(&apos;x&apos;) plt.ylabel(&apos;y">
<meta property="og:locale" content="zh">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-1.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-2.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-3.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-4.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-5.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-6.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-7.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-8.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-9.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-10.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-11.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-12.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-13.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-14.jpg">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-17.png">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-15.png">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-16.png">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-18.png">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-19.png">
<meta property="og:image" content="https://hhyz.me/img/2018-04-05-matplotlib-20.png">
<meta property="og:updated_time" content="2019-07-07T12:24:09.184Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="matplotlib 绘图与显示图像">
<meta name="twitter:description" content="绘图导入需要的模块1234import numpy as npimport matplotlib.pyplot as pltimport seaborn as snsimport scipy.stats as stats  画基本图形折线图 plot123456y=np.random.randn(100) plt.plot(y,&apos;b-&apos;) plt.xlabel(&apos;x&apos;) plt.ylabel(&apos;y">
<meta name="twitter:image" content="https://hhyz.me/img/2018-04-05-matplotlib-1.jpg">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  





  


    <title> matplotlib 绘图与显示图像 - 浩瀚宇宙·AaronChen </title>


    <script>
(function(u, c) {
  var d = document, t = 'script', o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
  o.src = u;
  if (c) { o.addEventListener('load', function(e) { c(e); }); }
  s.parentNode.insertBefore(o, s);
})('//cdn.bootcss.com/pangu/3.3.0/pangu.min.js', function() {
  pangu.spacingPage();
});
</script>


  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">浩瀚宇宙·AaronChen</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="https://www.hhyz.me">
                            
                            
                                Gallery
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          matplotlib 绘图与显示图像
        
      </h1>

      <time class="post-time">
          Apr 5 2018
      </time>
    </header>



    
            <div class="post-content">
            <h1 id="绘图"><a href="#绘图" class="headerlink" title="绘图"></a>绘图</h1><h2 id="导入需要的模块"><a href="#导入需要的模块" class="headerlink" title="导入需要的模块"></a>导入需要的模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> stats</span><br></pre></td></tr></table></figure>

<h2 id="画基本图形"><a href="#画基本图形" class="headerlink" title="画基本图形"></a>画基本图形</h2><h3 id="折线图-plot"><a href="#折线图-plot" class="headerlink" title="折线图 plot"></a>折线图 plot</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">y=np.random.randn(<span class="number">100</span>) </span><br><span class="line">plt.plot(y,<span class="string">'b-'</span>) </span><br><span class="line">plt.xlabel(<span class="string">'x'</span>) </span><br><span class="line">plt.ylabel(<span class="string">'y'</span>) </span><br><span class="line">plt.title(<span class="string">u'title'</span>) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-1.jpg" alt></p>
<a id="more"></a>

<p>可选参数如下所示：</p>
<p><img src="/img/2018-04-05-matplotlib-2.jpg" alt></p>
<p>也可以通过更改参数来改变画图效果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=np.cumsum(np.random.rand(<span class="number">100</span>)) </span><br><span class="line">plt.plot(y,label=<span class="string">'line label'</span>,color=<span class="string">'r'</span>,linestyle=<span class="string">'-'</span>,marker=<span class="string">'o'</span>) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-3.jpg" alt></p>
<p>可选的参数有</p>
<p><img src="/img/2018-04-05-matplotlib-4.jpg" alt></p>
<h3 id="散点图-scatter"><a href="#散点图-scatter" class="headerlink" title="散点图 scatter"></a>散点图 scatter</h3><p>例如：数据服从正态分布，相关系数是0.5</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">z=np.random.randn(<span class="number">100</span>,<span class="number">2</span>) </span><br><span class="line">z[:,<span class="number">1</span>]=<span class="number">0.5</span>*z[:,<span class="number">0</span>]+np.sqrt(<span class="number">0.5</span>)*z[:,<span class="number">1</span>] </span><br><span class="line">x=z[:,<span class="number">0</span>]</span><br><span class="line">y=z[:,<span class="number">1</span>]</span><br><span class="line">plt.scatter(x,y) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-5.jpg" alt><br>参数也是可以修改的例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">z=np.random.randn(<span class="number">100</span>,<span class="number">2</span>) </span><br><span class="line">z[:,<span class="number">1</span>]=<span class="number">0.5</span>*z[:,<span class="number">0</span>]+np.sqrt(<span class="number">0.5</span>)*z[:,<span class="number">1</span>] </span><br><span class="line">x=z[:,<span class="number">0</span>] </span><br><span class="line">y=z[:,<span class="number">1</span>]</span><br><span class="line">plt.scatter(x,y,marker=<span class="string">'s'</span>,c=<span class="string">'r'</span>) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-6.jpg" alt></p>
<h3 id="条形图-bar"><a href="#条形图-bar" class="headerlink" title="条形图 bar"></a>条形图 bar</h3><blockquote>
<p>画条形图 bar,需要两个一位数组，第一个是横坐标，每个条形图的开始位置；纵坐标是条形图的高度</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">y=np.random.rand(<span class="number">5</span>) </span><br><span class="line">x=np.arange(<span class="number">5</span>)</span><br><span class="line">plt.bar(x,y) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-7.jpg" alt></p>
<p>修改他的显示属性,可以使用一个颜色数组来指定每个条形图的颜色。</p>
<p>y=np.random.rand(5);<br>x=np.arange(5);<br>colors=[‘#FF0000’,’#FFFF00’,’#00FF00’,’#00FFFF’,’#0000FF’]<br>plt.bar(x,y,width=0.5,color=colors,edgecolor=’#000000’,linewidth=5)<br>plt.show()</p>
<p><img src="/img/2018-04-05-matplotlib-8.jpg" alt></p>
<h3 id="图表-pie"><a href="#图表-pie" class="headerlink" title="图表 pie"></a>图表 pie</h3><blockquote>
<p>使用一个一维数组来表示，不要求累加和是1，可以使人以大小的正数</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x=np.arange(<span class="number">1</span>,<span class="number">8</span>) labels=[<span class="string">'label1'</span>,<span class="string">'label2'</span>,<span class="string">'label3'</span>,<span class="string">'label4'</span>,<span class="string">'label5'</span>,<span class="string">'label6'</span>,<span class="string">'label7'</span>] plt.pie(x,labels=labels) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-9.jpg" alt></p>
<h3 id="直方图-hist"><a href="#直方图-hist" class="headerlink" title="直方图 hist"></a>直方图 hist</h3><blockquote>
<p>需要一个数组，bins参数表示将数据分成几组，默认是10组</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=np.random.randn(<span class="number">2000</span>)</span><br><span class="line">plt.hist(x,bins=<span class="number">30</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-10.jpg" alt></p>
<p>如果想要生成累计直方图需要使参数cumulative为true</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=np.random.randn(<span class="number">1000</span>);  </span><br><span class="line">plt.hist(x,bins=<span class="number">20</span>,cumulative=<span class="literal">True</span>);  </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-11.jpg" alt></p>
<h3 id="多图表"><a href="#多图表" class="headerlink" title="多图表"></a>多图表</h3><blockquote>
<p>在同一个图上画出多张图表，需要首先使用figure()函数生成一个画板，画子图时需要使用sp=add_subplot(m,n,p)来表示子图。m表示行，n表示列，p表示第几个图。</p>
</blockquote>
<p>返回的是子图的句柄用于设置一些参数。最后要想显示出来需要使用draw()函数，将这些子图画在画板上，然后用show()函数显示出来。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure() </span><br><span class="line">ax = fig.add_subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>) </span><br><span class="line">y = np.random.randn(<span class="number">100</span>) </span><br><span class="line">plt.plot(y); ax.set_title(<span class="string">'1'</span>) </span><br><span class="line">y = np.random.rand(<span class="number">5</span>) </span><br><span class="line">x = np.arange(<span class="number">5</span>) </span><br><span class="line">ax = fig.add_subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>) plt.bar(x, y) </span><br><span class="line">ax.set_title(<span class="string">'2'</span>)</span><br><span class="line">y = np.random.rand(<span class="number">5</span>) </span><br><span class="line">y = y / np.sum(y) y[y &lt; <span class="number">.05</span>] = <span class="number">.05</span> </span><br><span class="line">ax = fig.add_subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>) </span><br><span class="line">plt.pie(y) ax.set_title(<span class="string">'3'</span>) </span><br><span class="line">plt.draw() </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-12.jpg" alt></p>
<h3 id="3D-曲面图"><a href="#3D-曲面图" class="headerlink" title="3D 曲面图"></a>3D 曲面图</h3><p>画线，使用plot，需要Axed3D(fig)来画出3D轴线，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">fig=plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">-10</span>,<span class="number">10</span>,<span class="number">0.1</span>)</span><br><span class="line">y = np.arange(<span class="number">-10</span>,<span class="number">10</span>,<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#网格化数据</span></span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line">Z = np.sqrt(X**<span class="number">2</span> + Y**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">ax.plot_surface(X, Y, Z, rstride=<span class="number">1</span>, cstride=<span class="number">1</span>, cmap=<span class="string">'rainbow'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-13.jpg" alt></p>
<h3 id="3D-曲线图"><a href="#3D-曲线图" class="headerlink" title="3D 曲线图"></a>3D 曲线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line">x=np.linspace(<span class="number">0</span>,<span class="number">6</span>*np.pi,<span class="number">600</span>);</span><br><span class="line">z=copy.copy(x)</span><br><span class="line">x=np.cos(z)</span><br><span class="line">y=np.sin(z);</span><br><span class="line">fig=plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">ax.plot(x,y,zs=z)</span><br><span class="line">plt.xlabel(<span class="string">'x'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'y'</span>)</span><br><span class="line">ax.view_init(<span class="number">15</span>,<span class="number">45</span>)</span><br><span class="line">plt.draw()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-14.jpg" alt></p>
<h2 id="图像配置"><a href="#图像配置" class="headerlink" title="图像配置"></a>图像配置</h2><h3 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties  </span><br><span class="line">font_song = FontProperties(fname=<span class="string">r"c:\windows\fonts\simsun.ttc"</span>, size=<span class="number">15</span>)</span><br></pre></td></tr></table></figure>

<p>使用文字时指定参数 <code>fontproperties=font_song</code> 即可</p>
<p>或者</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax2.set_xlabel(<span class="string">'window size'</span>, fontsize=<span class="number">9</span>, fontproperties = <span class="string">'Times New Roman'</span>)</span><br><span class="line"><span class="comment"># plt.xlabel('window size', fontdict=&#123;'family' : 'Times New Roman', 'size':8&#125;)</span></span><br></pre></td></tr></table></figure>

<p>或者</p>
<p>将全局字体改为Times New Roman：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rc(<span class="string">'font'</span>,family=<span class="string">'Times New Roman'</span>)</span><br></pre></td></tr></table></figure>

<p>如果出现类似如下错误：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apps/rhel6/Python<span class="number">-2.7</span><span class="number">.2</span>/lib/python2<span class="number">.7</span>/site-packages/matplotlib/font_manager.py:<span class="number">1224</span>: UserWarning: findfont: Font family [<span class="string">'Playfair Display'</span>] <span class="keyword">not</span> found. Falling back to Bitstream Vera Sans(prop.get_family(), self.defaultFamily[fontext]))</span><br></pre></td></tr></table></figure>

<p>则需要删除 <code>fontList.cache</code> 文件。这个文件有点不好找。</p>
<p>用如下命令获得目录：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> plt</span><br><span class="line">plt.get_cachedir()</span><br></pre></td></tr></table></figure>

<p>然后进去删除fontList.cache就可以了！</p>
<blockquote>
<p>参考 <a href="https://blog.csdn.net/ginynu/article/details/70808962" target="_blank" rel="noopener">matplotlib 字体改为 Times New Roman</a></p>
</blockquote>
<h3 id="窗口"><a href="#窗口" class="headerlink" title="窗口"></a>窗口</h3><h4 id="窗口设置"><a href="#窗口设置" class="headerlink" title="窗口设置"></a>窗口设置</h4><p>开启一个窗口，num 设置子图数量，figsize 设置窗口大小，dpi 设置分辨率</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">15</span>, <span class="number">8</span>),dpi=<span class="number">80</span>)</span><br></pre></td></tr></table></figure>

<h4 id="多张子图"><a href="#多张子图" class="headerlink" title="多张子图"></a>多张子图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fig=plt.figure()</span><br><span class="line"></span><br><span class="line">ax1=fig.add_subplot(<span class="number">221</span>) </span><br><span class="line">ax1.plot(x,x)</span><br><span class="line"></span><br><span class="line">ax2=fig.add_subplot(<span class="number">222</span>)</span><br><span class="line">ax2.plot(x,-x)</span><br><span class="line"></span><br><span class="line">ax3=fig.add_subplot(<span class="number">223</span>)</span><br><span class="line">ax3.plot(x,x**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">ax4=fig.add_subplot(<span class="number">224</span>)</span><br><span class="line">ax4.plot(x,np.log(x))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-17.png" alt></p>
<h3 id="坐标轴"><a href="#坐标轴" class="headerlink" title="坐标轴"></a>坐标轴</h3><h4 id="关闭刻度"><a href="#关闭刻度" class="headerlink" title="关闭刻度"></a>关闭刻度</h4><ul>
<li>对于 <code>plt</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.xticks([])</span><br><span class="line">plt.yticks([])</span><br></pre></td></tr></table></figure>

<ul>
<li>对于 <code>ax（matplotlib.axes._subplots.AxesSubplot）</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax.set_xticks([])</span><br><span class="line">ax.set_yticks([])</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax.spines[<span class="string">'top'</span>].set_visible(<span class="literal">False</span>)  <span class="comment"># 去掉上边框</span></span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_visible(<span class="literal">False</span>)  <span class="comment"># 去掉右边框</span></span><br></pre></td></tr></table></figure>

<ul>
<li>全部坐标轴（上下左右）不显示</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.axis(<span class="string">'off'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="坐标轴名称"><a href="#坐标轴名称" class="headerlink" title="坐标轴名称"></a>坐标轴名称</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.xlabel(<span class="string">'Window Size'</span>,fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">'SNR'</span>,fontsize=<span class="number">14</span>)</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ax1 = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">ax1.plot(x, snr, label=<span class="string">"SNR"</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">'SNR'</span>)</span><br><span class="line">ax1.set_xlabel(<span class="string">'Window Size'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="坐标轴范围"><a href="#坐标轴范围" class="headerlink" title="坐标轴范围"></a>坐标轴范围</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置坐标轴范围</span></span><br><span class="line">plt.xlim((<span class="number">-5</span>, <span class="number">5</span>))</span><br><span class="line">plt.ylim((<span class="number">-2</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<h4 id="图表标题"><a href="#图表标题" class="headerlink" title="图表标题"></a>图表标题</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.title(<span class="string">'Squares'</span>,fontsize=<span class="number">24</span>)</span><br></pre></td></tr></table></figure>

<h4 id="刻度字号"><a href="#刻度字号" class="headerlink" title="刻度字号"></a>刻度字号</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">14</span>)</span><br></pre></td></tr></table></figure>

<h4 id="图例"><a href="#图例" class="headerlink" title="图例"></a>图例</h4><p>同一图表中两条线</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.legend(handles=[l1,l2],labels=[<span class="string">'up'</span>,<span class="string">'down'</span>],loc=<span class="string">'best'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="双-y-轴"><a href="#双-y-轴" class="headerlink" title="双 y 轴"></a>双 y 轴</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">plt.xlabel(<span class="string">'Window Size'</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">ax1 = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">ax1.plot(x, snr, label=<span class="string">"SNR"</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">'SNR'</span>)</span><br><span class="line">plt.legend()   <span class="comment"># 添加图例</span></span><br><span class="line"></span><br><span class="line">ax2 = ax1.twinx()  <span class="comment"># this is the important function</span></span><br><span class="line">ax2.plot(x, lsd, <span class="string">'r'</span>,linestyle=<span class="string">'--'</span>, label=<span class="string">"LSD"</span>)</span><br><span class="line">ax2.set_ylabel(<span class="string">'LSD'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-15.png" alt></p>
<p>其中，<code>ax = twinx()</code> 意思是创建了一个独立的Y轴，共享了X轴。双坐标轴</p>
<p>这时两个图例是分开的，如果想要图例合并，则应为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">plt.xlabel(<span class="string">'Window Size'</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">ax1 = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">l1 = ax1.plot(x, snr, label=<span class="string">"SNR"</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">'SNR'</span>)</span><br><span class="line"></span><br><span class="line">ax2 = ax1.twinx()  <span class="comment"># this is the important function</span></span><br><span class="line">l2 = ax2.plot(x, lsd, <span class="string">'r'</span>,linestyle=<span class="string">'--'</span>, label=<span class="string">"LSD"</span>)</span><br><span class="line">ax2.set_ylabel(<span class="string">'LSD'</span>)</span><br><span class="line"></span><br><span class="line">lns = l1+l2</span><br><span class="line">labs = [l.get_label() <span class="keyword">for</span> l <span class="keyword">in</span> lns]</span><br><span class="line">ax1.legend(lns, labs, loc=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-16.png" alt></p>
<h2 id="保存图像"><a href="#保存图像" class="headerlink" title="保存图像"></a>保存图像</h2><p>使用savefig(’<em>filename</em>._ext_’) ，其中ext支持png, pdf, ps, eps or svg格式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(<span class="string">'F:/where-you-want-to-save.png'</span>, dpi=<span class="number">300</span>, bbox_inches=<span class="string">"tight"</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>保存文件，dpi指定保存文件的分辨率</li>
<li><code>bbox_inches=&quot;tight&quot;</code> 可以保存图上所有的信息，不会出现横纵坐标轴的描述存掉了的情况</li>
</ul>
<h2 id="论文图实例"><a href="#论文图实例" class="headerlink" title="论文图实例"></a>论文图实例</h2><h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例 1"></a>实例 1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'Arial'</span>]  <span class="comment"># 如果要显示中文字体,则在此处设为：SimHei</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span>  <span class="comment"># 显示负号</span></span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line">VGG_supervised = np.array([<span class="number">2.9749694</span>, <span class="number">3.9357018</span>, <span class="number">4.7440844</span>, <span class="number">6.482254</span>, <span class="number">8.720203</span>, <span class="number">13.687582</span>])</span><br><span class="line">VGG_unsupervised = np.array([<span class="number">2.1044724</span>, <span class="number">2.9757383</span>, <span class="number">3.7754183</span>, <span class="number">5.686206</span>, <span class="number">8.367847</span>, <span class="number">14.144531</span>])</span><br><span class="line">ourNetwork = np.array([<span class="number">2.0205495</span>, <span class="number">2.6509762</span>, <span class="number">3.1876223</span>, <span class="number">4.380781</span>, <span class="number">6.004548</span>, <span class="number">9.9298</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># label在图示(legend)中显示。若为数学公式,则最好在字符串前后添加"$"符号</span></span><br><span class="line"><span class="comment"># color：b:blue、g:green、r:red、c:cyan、m:magenta、y:yellow、k:black、w:white、、、</span></span><br><span class="line"><span class="comment"># 线型：-  --   -.  :    ,</span></span><br><span class="line"><span class="comment"># marker：.  ,   o   v    &lt;    *    +    1</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">5</span>),dpi=<span class="number">600</span>)</span><br><span class="line">plt.grid(linestyle=<span class="string">"--"</span>)  <span class="comment"># 设置背景网格线为虚线</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_visible(<span class="literal">False</span>)  <span class="comment"># 去掉上边框</span></span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_visible(<span class="literal">False</span>)  <span class="comment"># 去掉右边框</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.plot(x, VGG_supervised, marker=<span class="string">'o'</span>, color=<span class="string">"blue"</span>, label=<span class="string">"VGG-style Supervised Network"</span>, linewidth=<span class="number">1.5</span>)</span><br><span class="line">plt.plot(x, VGG_unsupervised, marker=<span class="string">'o'</span>, color=<span class="string">"green"</span>, label=<span class="string">"VGG-style Unsupervised Network"</span>, linewidth=<span class="number">1.5</span>)</span><br><span class="line">plt.plot(x, ourNetwork, marker=<span class="string">'o'</span>, color=<span class="string">"red"</span>, label=<span class="string">"ShuffleNet-style Network"</span>, linewidth=<span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line">group_labels = [<span class="string">'Top 0-5%'</span>, <span class="string">'Top 5-10%'</span>, <span class="string">'Top 10-20%'</span>, <span class="string">'Top 20-50%'</span>, <span class="string">'Top 50-70%'</span>, <span class="string">' Top 70-100%'</span>]  <span class="comment"># x轴刻度的标识</span></span><br><span class="line">plt.xticks(x, group_labels, fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>)  <span class="comment"># 默认字体大小为10</span></span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>)</span><br><span class="line"><span class="comment"># plt.title("example", fontsize=12, fontweight='bold')  # 默认字体大小为12</span></span><br><span class="line">plt.xlabel(<span class="string">"Performance Percentile"</span>, fontsize=<span class="number">13</span>, fontweight=<span class="string">'bold'</span>)</span><br><span class="line">plt.ylabel(<span class="string">"4pt-Homography RMSE"</span>, fontsize=<span class="number">13</span>, fontweight=<span class="string">'bold'</span>)</span><br><span class="line">plt.xlim(<span class="number">0.9</span>, <span class="number">6.1</span>)  <span class="comment"># 设置x轴的范围</span></span><br><span class="line">plt.ylim(<span class="number">1.5</span>, <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.legend()          #显示各曲线的图例</span></span><br><span class="line">plt.legend(loc=<span class="number">0</span>, numpoints=<span class="number">1</span>)</span><br><span class="line">leg = plt.gca().get_legend()</span><br><span class="line">ltext = leg.get_texts()</span><br><span class="line">plt.setp(ltext, fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>)  <span class="comment"># 设置图例字体的大小和粗细</span></span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">'./filename.svg'</span>, format=<span class="string">'svg'</span>)  <span class="comment"># 建议保存为svg格式,再用inkscape转为矢量图emf后插入word中</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-18.png" alt></p>
<blockquote>
<p>参考 <a href="https://blog.csdn.net/bskfnvjtlyzmv867/article/details/80352891" target="_blank" rel="noopener">Matplotlib画各种论文图</a></p>
</blockquote>
<h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例 2"></a>实例 2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.pyplot <span class="keyword">import</span> figure</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">figure(num=<span class="literal">None</span>, figsize=(<span class="number">2.8</span>, <span class="number">1.7</span>), dpi=<span class="number">300</span>)</span><br><span class="line"><span class="comment"># figsize的2.8和1.7指的是英寸，dpi指定图片分辨率。那么图片就是（2.8*300）*（1.7*300）像素大小</span></span><br><span class="line"></span><br><span class="line">plt.plot(test_mean_1000S_n, <span class="string">'royalblue'</span>, label=<span class="string">'without threshold'</span>)</span><br><span class="line">plt.plot(test_mean_1000S, <span class="string">'darkorange'</span>, label=<span class="string">'with threshold'</span>)</span><br><span class="line"><span class="comment"># 画图，并指定颜色</span></span><br><span class="line"></span><br><span class="line">plt.xticks(fontproperties = <span class="string">'Times New Roman'</span>, fontsize=<span class="number">8</span>)</span><br><span class="line">plt.yticks(np.arange(<span class="number">0</span>, <span class="number">1.1</span>, <span class="number">0.2</span>), fontproperties = <span class="string">'Times New Roman'</span>, fontsize=<span class="number">8</span>)</span><br><span class="line"><span class="comment"># 指定横纵坐标的字体以及字体大小，记住是fontsize不是size。yticks上我还用numpy指定了坐标轴的变化范围。</span></span><br><span class="line"></span><br><span class="line">plt.legend(loc=<span class="string">'lower right'</span>, prop=&#123;<span class="string">'family'</span>:<span class="string">'Times New Roman'</span>, <span class="string">'size'</span>:<span class="number">8</span>&#125;)</span><br><span class="line"><span class="comment"># 图上的legend，记住字体是要用prop以字典形式设置的，而且字的大小是size不是fontsize，这个容易和xticks的命令弄混</span></span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'1000 samples'</span>, fontdict=&#123;<span class="string">'family'</span> : <span class="string">'Times New Roman'</span>, <span class="string">'size'</span>:<span class="number">8</span>&#125;)</span><br><span class="line"><span class="comment"># 指定图上标题的字体及大小</span></span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">'iterations'</span>, fontdict=&#123;<span class="string">'family'</span> : <span class="string">'Times New Roman'</span>, <span class="string">'size'</span>:<span class="number">8</span>&#125;)</span><br><span class="line">plt.ylabel(<span class="string">'accuracy'</span>, fontdict=&#123;<span class="string">'family'</span> : <span class="string">'Times New Roman'</span>, <span class="string">'size'</span>:<span class="number">8</span>&#125;)</span><br><span class="line"><span class="comment"># 指定横纵坐标描述的字体及大小</span></span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">'F:/where-you-want-to-save.png'</span>, dpi=<span class="number">300</span>, bbox_inches=<span class="string">"tight"</span>)</span><br><span class="line"><span class="comment"># 保存文件，dpi指定保存文件的分辨率</span></span><br><span class="line"><span class="comment"># bbox_inches="tight" 可以保存图上所有的信息，不会出现横纵坐标轴的描述存掉了的情况</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># 记住，如果你要show()的话，一定要先savefig，再show。如果你先show了，存出来的就是一张白纸。</span></span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-19.png" alt></p>
<blockquote>
<p>参考 <a href="https://blog.csdn.net/qq_22522663/article/details/87916573" target="_blank" rel="noopener">期刊论文写作之【python matplotlib 画图设置】</a></p>
</blockquote>
<h3 id="实例-3"><a href="#实例-3" class="headerlink" title="实例 3"></a>实例 3</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">figure, ax = plt.subplots()</span><br><span class="line">item = [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>]</span><br><span class="line">num1 = [<span class="number">2.5</span>, <span class="number">2.6</span>, <span class="number">2.7</span>]</span><br><span class="line">num2 = [<span class="number">2.75</span>, <span class="number">2.85</span>, <span class="number">2.95</span>]</span><br><span class="line">x=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">plt.plot(x,num1,label=<span class="string">'a'</span>,linestyle=<span class="string">'--'</span>,color=<span class="string">'r'</span>,marker=<span class="string">'D'</span>)</span><br><span class="line">plt.plot(x,num2,label=<span class="string">'b'</span>,linestyle=<span class="string">'--'</span>,color=<span class="string">'b'</span>,marker=<span class="string">'o'</span>)</span><br><span class="line">plt.yticks([<span class="number">2.4</span>,<span class="number">2.6</span>,<span class="number">2.8</span>,<span class="number">3.0</span>])  <span class="comment">#设置x,y坐标值</span></span><br><span class="line">plt.xticks(x)</span><br><span class="line"></span><br><span class="line">plt.tick_params(labelsize=<span class="number">16</span>)</span><br><span class="line">labels = ax.get_xticklabels() + ax.get_yticklabels()</span><br><span class="line">[label.set_fontname(<span class="string">'Times New Roman'</span>) <span class="keyword">for</span> label <span class="keyword">in</span> labels]</span><br><span class="line">font1 = &#123;<span class="string">'family'</span> : <span class="string">'Times New Roman'</span>,</span><br><span class="line"><span class="string">'weight'</span> : <span class="string">'normal'</span>,</span><br><span class="line"><span class="string">'size'</span>   : <span class="number">16</span>,</span><br><span class="line">&#125;</span><br><span class="line">plt.legend(prop=font1,loc=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">plt.grid(axis=<span class="string">"y"</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Item'</span>,font1)</span><br><span class="line">plt.ylabel(<span class="string">'Value'</span>,font1)</span><br><span class="line">plt.title(<span class="string">'Line Chart'</span>,font1)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/img/2018-04-05-matplotlib-20.png" alt></p>
<h3 id="CNN-结构图"><a href="#CNN-结构图" class="headerlink" title="CNN 结构图"></a>CNN 结构图</h3><blockquote>
<p><a href="https://blog.csdn.net/weixin_42180950/article/details/86770801" target="_blank" rel="noopener">如何用 matplotlib 画论文中的CNN结构图</a></p>
</blockquote>
<h1 id="图片处理"><a href="#图片处理" class="headerlink" title="图片处理"></a>图片处理</h1><h2 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>

<h2 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">img = Image.open(<span class="string">'1.jpg'</span>)</span><br><span class="line"></span><br><span class="line">print(type(img))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">PIL</span>.<span class="title">JpegImagePlugin</span>.<span class="title">JpegImageFile</span>'&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">print</span><span class="params">(img)</span></span></span><br><span class="line">&lt;PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=28x28 at 0x7F153040C6D8&gt;</span><br><span class="line"></span><br><span class="line">print(img.shape)</span><br><span class="line">AttributeError: <span class="string">'JpegImageFile'</span> object has no attribute <span class="string">'shape'</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">img_1 = np.array(Image.open(<span class="string">'1.jpg'</span>)).astype(<span class="string">'float'</span>)</span><br><span class="line"></span><br><span class="line">print(img_1.shape)</span><br><span class="line">(<span class="number">28</span>, <span class="number">28</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">img_2 = np.array(Image.open(<span class="string">'1.jpg'</span>).convert(<span class="string">'L'</span>)).astype(<span class="string">'float'</span>)</span><br><span class="line">print(img_2.shape)</span><br><span class="line">(<span class="number">28</span>, <span class="number">28</span>)</span><br></pre></td></tr></table></figure>

<h2 id="显示单个图片"><a href="#显示单个图片" class="headerlink" title="显示单个图片"></a>显示单个图片</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(<span class="string">"Image"</span>) <span class="comment"># 图像窗口名称</span></span><br><span class="line">plt.imshow(img)</span><br><span class="line">plt.axis(<span class="string">'off'</span>) <span class="comment"># 关掉坐标轴为 off</span></span><br><span class="line">plt.title(<span class="string">'image'</span>) <span class="comment"># 图像题目</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="显示灰度图像"><a href="#显示灰度图像" class="headerlink" title="显示灰度图像"></a>显示灰度图像</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">img = img.convert(<span class="string">'L'</span>)  <span class="comment">#变为灰度图像</span></span><br><span class="line"></span><br><span class="line">plt.figure(<span class="string">"Image"</span>)</span><br><span class="line"><span class="comment"># 这里必须加 cmap='gray' ,否则尽管原图像是灰度图（下图1），但是显示的是伪彩色图像（下图2）（如果不加的话）</span></span><br><span class="line">plt.imshow(img,cmap=<span class="string">'gray'</span>)</span><br><span class="line">plt.axis(<span class="string">'off'</span>)</span><br><span class="line">plt.title(<span class="string">'image'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


            </div>
          

    
      <footer class="post-footer">
        <div class="post-tags">
          
            <a href="/tags/python/">python</a>
          
        </div>

        <div class="post-tags">
          
            <a href="/categories/python/">python</a>
          
            <a href="/categories/python/python-模块/">python 模块</a>
          
        </div>

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2018/04/05/base64/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">计算机编码：base64</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2018/04/04/mysql_1/">
        <span class="next-text nav-default">mysql 基础操作（一）</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>


      <div class="post-toc-warp">
        
      <!--noindex-->
          <div class="post-toc" id="toc-test">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#绘图"><span class="nav-text">绘图</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#导入需要的模块"><span class="nav-text">导入需要的模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#画基本图形"><span class="nav-text">画基本图形</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#折线图-plot"><span class="nav-text">折线图 plot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#散点图-scatter"><span class="nav-text">散点图 scatter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#条形图-bar"><span class="nav-text">条形图 bar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图表-pie"><span class="nav-text">图表 pie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#直方图-hist"><span class="nav-text">直方图 hist</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多图表"><span class="nav-text">多图表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3D-曲面图"><span class="nav-text">3D 曲面图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3D-曲线图"><span class="nav-text">3D 曲线图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#图像配置"><span class="nav-text">图像配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字体"><span class="nav-text">字体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#窗口"><span class="nav-text">窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#窗口设置"><span class="nav-text">窗口设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#多张子图"><span class="nav-text">多张子图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#坐标轴"><span class="nav-text">坐标轴</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#关闭刻度"><span class="nav-text">关闭刻度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#坐标轴名称"><span class="nav-text">坐标轴名称</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#坐标轴范围"><span class="nav-text">坐标轴范围</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#图表标题"><span class="nav-text">图表标题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#刻度字号"><span class="nav-text">刻度字号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#图例"><span class="nav-text">图例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#双-y-轴"><span class="nav-text">双 y 轴</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#保存图像"><span class="nav-text">保存图像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#论文图实例"><span class="nav-text">论文图实例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#实例-1"><span class="nav-text">实例 1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例-2"><span class="nav-text">实例 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例-3"><span class="nav-text">实例 3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CNN-结构图"><span class="nav-text">CNN 结构图</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图片处理"><span class="nav-text">图片处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#导入模块"><span class="nav-text">导入模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#基本信息"><span class="nav-text">基本信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#显示单个图片"><span class="nav-text">显示单个图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#显示灰度图像"><span class="nav-text">显示灰度图像</span></a></li></ol></li></ol></div>
            

            <div class="back-to-top" id="back-to-top">
              <i class="iconfont icon-up"></i>
            </div>

          </div>
      <!--/noindex-->
      
      </div>


      </div>
      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2017 -
    
    2019
    <span class="footer-author">haoyu.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/henryhuang/hexo-theme-polarbearsimple">Polar Bear Simple</a>
    </span>
</span>

      </footer>


    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
